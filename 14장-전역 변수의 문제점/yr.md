# 전역변수의 문제점

## 1.변수의 생명주기

- ### 1-1 지역변수의 생명주기
  - 지역변수의 생명주기는 함수의 생명주기와 일치한다.
  - 지역변수가 함수보다 오래 생존하는경우도 있다
    - 어딘가에서 메모리 공간을 참조하고있으면 해제되지 않고 확보된 상태로 남아있게된다.
  - 호이스팅은 스코프의 선두로 끌어올려진 것처럼 동작하는것을 말한다.
- ### 1-2 전역변수의 생명주기
  - 전역변수의 생명주기는 전역 객체의 생명주기와 일치한다.
  - 전역객체는 코드가 실행되기 전에 엔진에 의해 제일 먼저 생성되는 특수한 객체다

## 2. 전역변수의 문제점

- 전역변수는 암묵적 결합을 허용하는 것이다.
- 생명주기가 길기때문에 의도치않은 재할당이 이뤄질 가능성이 높다.
- 스코프체인 상에서 종점에 존재하기때문에 검색속도가 가장느리다
- 파일이 분리되어있다해도 전역스코프를 공유한다는 것이다.

## 3. 전역변수의 사용을 억제하는 방법

- 반드시 사용해야할 이유가 없다면 지역변수를 사용해라
- 변수의 스코프는 좁을수록 좋다
- ### 3-1 즉시 실행함수
  - 모든 코드를 즉시 실행함수로 감싸면 모든 변수는 즉시실행함수의 지역변수가 된다.
- ### 3-2 네임스페이스 객체
  - 전역에 네임스페이스 객체를 생성해 사용한다.
  - 식별자 충돌을 방지하는 효과는 있으나 그다지 유용한 방법은 아니다.
- ### 3-3 모듈패턴
  - 클로저를 기반으로 동작한다.
  - JS는 public, private 등의 접근제한자를 제공하지않기 때문에 정보은닉을 위해 모듈패턴을 사용한다.
  ```JS
  var Counter = (function (){
    var num = 0;
    return {
        increase (){
            return ++num;
        },
        decrease(){
            return --num;
        }
    }
  })
  ```
- ### 3-4 ES6 모듈
  - ES6모듈은 파일 자체의 독자적인 모듈 스코프를 제공하기때문에 사용하면 전역변수르 사용할 수 없다
